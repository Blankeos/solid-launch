// ===========================================================================
// Kysely Client (Wraps around a DB connection via Hrana)
// - This is the preferred client for most queries.
// = For develop, we use the Bun dialect.
// ===========================================================================

import { Kysely, PostgresDialect } from "kysely"
import { Pool } from "pg"
import { privateEnv } from "@/env.private"
import type { DB } from "./types" // Generated by prisma.

export const db = new Kysely<DB>({
  dialect: new PostgresDialect({
    pool: new Pool({
      connectionString: privateEnv.DATABASE_URL,
    }),
  }),
})
